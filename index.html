<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WF TOOLS | Mantenimiento</title>
  <meta name="color-scheme" content="dark light" />
  <style>
    :root{
      --bg:#06070a;
      --bg-2:#0b0e14;
      --fg:#e6f1ff;
      --muted:#a7b3c6;
      --neon:#38bdf8;         /* cyan */
      --neon-2:#60a5fa;       /* violet */
      --accent:#22d3ee;       /* lighter cyan */
      --ok:#10b981;           /* green */
      --warn:#f59e0b;         /* amber */
      --danger:#ef4444;       /* red */
      --glass:rgba(255,255,255,.06);
      --border:rgba(255,255,255,.12);
      --shadow:0 10px 30px rgba(0,0,0,.5);
    }
    @media (prefers-color-scheme: light){
      :root{
        --bg:#f6f7fb;--bg-2:#ffffff;--fg:#0b1220;--muted:#3b4756;
        --glass:rgba(0,0,0,.05);--border:rgba(0,0,0,.12);--shadow:0 10px 30px rgba(0,0,0,.1);
      }
    }
    *{box-sizing:border-box}
    html,body{height:100%;}
    body{
      margin:0; font-family:ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--fg); background:radial-gradient(1000px 800px at 50% -10%, #122033, transparent 60%), var(--bg);
      overflow:hidden;
    }

    /* Canvas background */
    canvas#bg{position:fixed; inset:0; width:100%; height:100%; z-index:-1; display:block;}

    /* Glass card */
    .wrap{position:relative; display:grid; place-items:center; min-height:100dvh; padding:24px;}
    .card{
      width:min(900px, 92vw); padding:28px clamp(18px, 3vw, 40px); border-radius:24px;
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      backdrop-filter:saturate(140%) blur(14px);
      border:1px solid var(--border); box-shadow:var(--shadow);
    }

    .brand{display:flex; align-items:center; gap:14px; flex-wrap:wrap}
    .logo{
      width:64px; height:64px; border-radius:18px; position:relative; overflow:hidden; flex:0 0 auto;
      background: conic-gradient(from 180deg, var(--neon), var(--neon-2), var(--neon));
      filter: drop-shadow(0 0 18px color-mix(in oklab, var(--neon) 60%, transparent));
      animation: spin 6s linear infinite;
      mask: radial-gradient(transparent 34%, #000 34%);
    }
    .logo::after{content:""; position:absolute; inset:8px; border-radius:12px; background:var(--bg-2);}
    @keyframes spin{to{transform:rotate(360deg)}}

    .title{
      font-size:clamp(28px, 5vw, 54px); font-weight:800; letter-spacing:.5px;
      background:linear-gradient(90deg, var(--neon), var(--neon-2));
      -webkit-background-clip:text; background-clip:text; color:transparent;
      text-shadow:0 0 24px color-mix(in oklab, var(--neon) 40%, transparent);
    }

    .subtitle{font-size:clamp(14px, 2.4vw, 18px); color:var(--muted); margin-top:2px}

    .status{
      margin:18px 0 22px; display:flex; flex-wrap:wrap; gap:12px; align-items:center;
    }
    .chip{display:inline-flex; align-items:center; gap:10px; padding:10px 14px; border-radius:999px; border:1px solid var(--border); background:var(--glass)}
    .pulse{width:10px; height:10px; border-radius:50%; background:var(--warn); box-shadow:0 0 0 0 color-mix(in oklab, var(--warn) 35%, transparent); animation:pulse 1.6s infinite}
    @keyframes pulse{to{box-shadow:0 0 0 16px rgba(0,0,0,0)}}

    .grid{display:grid; grid-template-columns:1fr; gap:18px; margin-top:12px}
    @media (min-width:720px){.grid{grid-template-columns:1.2fr .8fr}}

    .big{padding:18px; border:1px dashed var(--border); border-radius:18px; background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02))}
    .big h2{margin:0 0 10px; font-size:clamp(18px, 2.6vw, 26px)}

    .type{font-size:clamp(16px, 2.4vw, 20px); line-height:1.55}
    .caret{display:inline-block; width:.6ch; background:color-mix(in oklab, var(--fg) 70%, transparent); animation:blink 1.1s steps(1) infinite}
    @keyframes blink{50%{background:transparent}}

    .loader{
      --size:120px; width:var(--size); height:var(--size); border-radius:50%; margin:auto; position:relative;
      background:
        conic-gradient(from 0deg, var(--neon) 0 25%, transparent 25% 100%),
        conic-gradient(from 180deg, var(--neon-2) 0 35%, transparent 35% 100%);
      mask: radial-gradient(closest-side, transparent 68%, #000 70%);
      animation: rotate 3.4s linear infinite;
    }
    @keyframes rotate{to{transform:rotate(1turn)}}

    .controls{display:flex; flex-wrap:wrap; gap:10px; margin-top:16px}
    .btn{
      appearance:none; border:1px solid var(--border); background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03)); color:var(--fg);
      border-radius:12px; padding:10px 14px; font-weight:600; cursor:pointer; transition:transform .08s ease, box-shadow .2s ease;
    }
    .btn:hover{transform:translateY(-1px)}
    .btn:active{transform:translateY(0)}

    .tog{display:inline-flex; align-items:center; gap:10px; padding:10px 12px; border-radius:12px; border:1px solid var(--border); background:var(--glass)}
    .tog input{appearance:none; width:40px; height:22px; border-radius:999px; background:linear-gradient(90deg, var(--neon), var(--neon-2)); position:relative; outline:none; cursor:pointer}
    .tog input::after{content:""; position:absolute; top:3px; left:3px; width:16px; height:16px; border-radius:50%; background:#fff; transition:left .2s ease}
    .tog input:checked::after{left:21px}

    footer{margin-top:18px; font-size:12px; color:var(--muted); display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap}
    .kbd{font:600 12px ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; padding:.2rem .45rem; border:1px solid var(--border); border-bottom-width:2px; border-radius:6px; background:var(--glass)}

    /* Accessibility: reduce motion */
    @media (prefers-reduced-motion: reduce){
      .logo, .loader{animation: none}
      .pulse{animation: none}
    }
  </style>
</head>
<body>
  <canvas id="bg" aria-hidden="true"></canvas>
  <main class="wrap">
    <section class="card" role="status" aria-live="polite">
      <header class="brand" aria-label="Identidad de marca">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1 class="title" title="WF TOOLS">WF TOOLS</h1>
          <p class="subtitle">Plataforma en modo mantenimiento</p>
        </div>
      </header>

      <div class="status">
        <span class="chip"><span class="pulse" aria-hidden="true"></span> Estado: <strong style="margin-left:6px">Mantenimiento programado</strong></span>
        <span class="chip">√öltima verificaci√≥n: <span id="check" style="margin-left:6px">‚Äî</span></span>
        <span class="chip">Progreso estimado: <strong id="prog" style="margin-left:6px">0%</strong></span>
      </div>

      <div class="grid">
        <div class="big">
          <h2>Mensaje</h2>
          <p class="type" id="type"></p>
          <div class="controls">
            <button class="btn" id="refresh" title="Reintentar ver si ya regresamos">‚Üª Actualizar estado</button>
            <label class="tog" title="Activa o desactiva los efectos visuales">
              <input id="fx" type="checkbox" checked aria-label="Efectos visuales" /> Efectos
            </label>
            <label class="tog" title="Activa alto contraste para mejor legibilidad">
              <input id="contrast" type="checkbox" aria-label="Alto contraste" checked /> Alto contraste
            </label>
          </div>
        </div>
        <div class="big" aria-hidden="false">
          <div class="loader" aria-hidden="true"></div>
          <p style="text-align:center; margin:10px 0 0; color:var(--muted)">Optimizaci√≥n de m√≥dulos, limpieza de cach√©s, ajuste de engranajes cu√°nticos‚Ä¶ ‚òï</p>
        </div>
      </div>

      <footer>
        <div>
          Tip: pulsa <span class="kbd">B</span> para alternar fondo, <span class="kbd">M</span> para pausar part√≠culas, <span class="kbd">H</span> para alto contraste.
        </div>
        <div id="uptime">Tiempo en p√°gina: 0s</div>
      </footer>
    </section>
  </main>

  <script>
    // --- Utility helpers
    const $ = (s, p=document) => p.querySelector(s);

    // --- Typewriter message
    const msg = "WF TOOLS se encuentra en mantenimiento. Pronto estaremos de regreso. Gracias por tu paciencia. üöÄ";
    const typeEl = $('#type');
    let i = 0; let typing; 
    function type(){
      if(i <= msg.length){
        typeEl.innerHTML = msg.slice(0, i) + '<span class="caret">&nbsp;</span>';
        i++;
        typing = setTimeout(type, 28);
      }else{
        typeEl.textContent = msg;
      }
    }
    type();

    // --- Status widgets
    const checkEl = $('#check'), progEl = $('#prog');
    function stamp(){
      const now = new Date();
      checkEl.textContent = now.toLocaleString();
    }
    stamp();
    $('#refresh').addEventListener('click', ()=>{
      stamp();
      // playful pseudo-progress
      const n = Math.min(100, Math.floor(Math.random()*18) + Number(progEl.textContent.replace('%','')));
      progEl.textContent = (n>100?100:n) + '%';
      flash('#refresh');
    });

    function flash(sel){
      const el = $(sel);
      el.animate([{transform:'scale(1)'},{transform:'scale(1.04)'},{transform:'scale(1)'}],{duration:240, easing:'ease-out'});
    }

    // --- High contrast and effects toggles
    const contrast = $('#contrast');
    const fx = $('#fx');
    // Start in high-contrast mode by default
    contrast.checked = true;
    document.documentElement.style.setProperty('--fg', '#ffffff');
    document.body.style.filter = 'contrast(1.2) saturate(1.1)';
    contrast.addEventListener('change',()=>{
      document.documentElement.style.setProperty('--fg', contrast.checked ? '#ffffff' : getComputedStyle(document.documentElement).getPropertyValue('--fg'));
      document.body.style.filter = contrast.checked? 'contrast(1.2) saturate(1.1)' : 'none';
    });

    // Keyboard shortcuts
    addEventListener('keydown', (e)=>{
      if(e.key.toLowerCase()==='h'){ contrast.checked = !contrast.checked; contrast.dispatchEvent(new Event('change')); }
      if(e.key.toLowerCase()==='m'){ fx.checked = !fx.checked; fx.dispatchEvent(new Event('change')); }
      if(e.key.toLowerCase()==='b'){ toggleBg(); }
    });

    // --- Background particles
    const canvas = document.getElementById('bg');
    const ctx = canvas.getContext('2d');
    let dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
    let W,H, particles=[], running=true, altBg=false;

    function resize(){
      W = canvas.width = Math.floor(innerWidth * dpr);
      H = canvas.height = Math.floor(innerHeight * dpr);
      canvas.style.width = '100%';
      canvas.style.height = '100%';
      particles = new Array(Math.floor((W*H)/(14000*dpr))).fill(0).map(()=>makeParticle());
    }

    function makeParticle(){
      return {
        x: Math.random()*W,
        y: Math.random()*H,
        r: Math.random()*1.6 + .3,
        vx: (Math.random()-.5)*.25*dpr,
        vy: (Math.random()-.5)*.25*dpr,
        a: Math.random()*360
      };
    }

    function draw(){
      if(!running) return;
      // background gradient
      const g = ctx.createRadialGradient(W*0.5, H* -0.1, 100*dpr, W*0.5, H*0.2, Math.max(W,H));
      if(!altBg){ g.addColorStop(0, 'rgba(24, 47, 79, .6)'); g.addColorStop(1, 'rgba(2, 8, 23, 1)'); }
      else { g.addColorStop(0, 'rgba(12, 36, 68, .6)'); g.addColorStop(1, 'rgba(2, 10, 24, 1)'); }
      ctx.fillStyle = g; ctx.fillRect(0,0,W,H);

      // particle layer
      ctx.save();
      ctx.globalCompositeOperation = 'lighter';
      for(const p of particles){
        p.x += p.vx; p.y += p.vy; p.a += 0.6;
        if(p.x<0) p.x=W; if(p.x>W) p.x=0; if(p.y<0) p.y=H; if(p.y>H) p.y=0;
        const glow = 0.25 + 0.75*Math.abs(Math.sin(p.a*Math.PI/180));
        ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fillStyle = `rgba(56,189,248,${0.06+glow*0.12})`;
        ctx.fill();
      }
      ctx.restore();

      // soft grid (futuristic vibe)
      ctx.strokeStyle = 'rgba(255,255,255,.04)';
      ctx.lineWidth = dpr;
      const step = 64*dpr; // grid spacing
      for(let x= (performance.now()/40)%step; x<W; x+=step){
        ctx.beginPath(); ctx.moveTo(x,0); ctx.lineTo(x,H); ctx.stroke();
      }
      for(let y= (performance.now()/40)%step; y<H; y+=step){
        ctx.beginPath(); ctx.moveTo(0,y); ctx.lineTo(W,y); ctx.stroke();
      }

      requestAnimationFrame(draw);
    }

    function toggleBg(){ altBg = !altBg; flash('body'); }

    fx.addEventListener('change',()=>{ running = fx.checked; if(running){ draw(); } });

    addEventListener('resize', resize, {passive:true});
    resize(); draw();

    // --- Uptime counter
    const start = Date.now();
    const uptime = document.getElementById('uptime');
    setInterval(()=>{
      const s = Math.floor((Date.now()-start)/1000);
      const mm = Math.floor(s/60), ss = s%60;
      uptime.textContent = `Tiempo en p√°gina: ${mm? mm+ 'm ':''}${ss}s`;
    }, 1000);
  </script>
</body>
</html>
